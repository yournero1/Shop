{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport VCartItem from './v-cart-item';\nimport { mapActions } from 'vuex';\nexport default {\n  name: 'v-cart',\n  components: {\n    VCartItem\n  },\n  props: {\n    cart_data: {\n      type: Array,\n      default() {\n        return [];\n      }\n    }\n  },\n  data() {\n    return {};\n  },\n  computed: {\n    cartTotalCost() {\n      let result = []; //умноженное количество товара на его цену\n\n      for (let item of this.cart_data) {\n        result.push(item.price * item.quantity); //возврат цены и количества\n      }\n\n      result = result.reduce((sum, el) =>\n      // сумма элементов и сам элемент\n      sum + el, 0);\n      return result;\n    }\n  },\n  methods: {\n    ...mapActions(['DELETE_FROM_CART', 'INCREMENT_CART_ITEM', 'DECREMENT_CART_ITEM']),\n    increment(index) {\n      this.INCREMENT_CART_ITEM(index);\n    },\n    decrement(index) {\n      this.DECREMENT_CART_ITEM(index);\n    },\n    deleteFromCart(index) {\n      this.DELETE_FROM_CART(index);\n    }\n  }\n};","map":{"version":3,"mappings":";AAkBA;AACA;AACA;EACAA;EACAC;IAAAC;EAAA;EACAC;IACAC;MACAC;MACAC;QACA;MACA;IACA;EACA;EACAC;IACA,QAEA;EACA;EACAC;IACAC;MACA;;MAEA;QACAC;MACA;;MAEAA;MAAA;MACAC,YACA;MACA;IACA;EACA;EACAC;IACA,eACA,oBACA,uBACA,sBACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;EACA;AACA","names":["name","components","VCartItem","props","cart_data","type","default","data","computed","cartTotalCost","result","sum","methods","increment","decrement","deleteFromCart"],"sourceRoot":"src/components/cart","sources":["v-cart.vue"],"sourcesContent":["<template>\n    <div class=\"v-cart\">\n        <router-link :to=\"{ name: 'catalog' }\">\n            <div class=\"v-catalog__link_to_cart\">Назад к каталогу</div>\n        </router-link>\n        <h1>Корзина</h1>\n        <p v-if=\"!cart_data.length\">Ваша корзина пуста...</p>\n        <v-cart-item v-for=\"(item, index) in cart_data\" :key=\"item.article\" :cart_item_data=\"item\"\n            @deleteFromCart=\"deleteFromCart(index)\" @increment=\"increment(index)\" @decrement=\"decrement(index)\" />\n\n        <div class=\"v-cart__total\">\n            <p class=\"total__name\">Сумма:</p>\n            <p>{{ cartTotalCost }} Р.</p>\n        </div>\n    </div>\n</template>\n\n<script>\nimport VCartItem from './v-cart-item'\nimport { mapActions } from 'vuex'\nexport default {\n    name: 'v-cart',\n    components: { VCartItem },\n    props: {\n        cart_data: {\n            type: Array,\n            default() {\n                return []\n            }\n        }\n    },\n    data() {\n        return {\n\n        }\n    },\n    computed: {\n        cartTotalCost() {\n            let result = [];//умноженное количество товара на его цену\n\n            for (let item of this.cart_data) {\n                result.push(item.price * item.quantity);//возврат цены и количества\n            }\n\n            result = result.reduce((sum, el) => // сумма элементов и сам элемент\n                sum + el, 0\n            );\n            return result;\n        }\n    },\n    methods: {\n        ...mapActions([\n            'DELETE_FROM_CART',\n            'INCREMENT_CART_ITEM',\n            'DECREMENT_CART_ITEM'\n        ]),\n        increment(index) {\n            this.INCREMENT_CART_ITEM(index)\n        },\n        decrement(index) {\n            this.DECREMENT_CART_ITEM(index)\n        },\n        deleteFromCart(index) {\n            this.DELETE_FROM_CART(index)\n        }\n    }\n}\n</script>\n\n<style lang=\"scss\">\n.v-cart {\n    margin-bottom: 100px;\n\n    &__total {\n        position: fixed;\n        bottom: 0;\n        right: 0;\n        left: 0;\n        padding: $padding*2 $padding*3;\n        display: flex;\n        justify-content: center;\n        background: #0084F4;\n        color: #ffffff;\n        font-size: 20px;\n    }\n\n    .total__name {\n        margin-right: $margin*2;\n    }\n}\n</style>"]},"metadata":{},"sourceType":"module"}